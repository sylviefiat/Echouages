// ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
// @license: Mad4Media Javascipt License - copyright Mad4Media - Fahrettin Kutyol - All rights reserved    ++
// (re-) publishing or forking for any purpose of commercial or non-commercial use is not allowed.		   ++
// ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
var ProformsAppMenu={first:0,app:null,jids:null,appSelect:null,init:function(){this.jids=dojo.byId("jform_request_jid");this.appSelect=dojo.byId("jform_request_app");var _1=dojo.byId("jform_link");if(!_1){_1=document.getElementsByName("link")[0].value;}else{_1=_1.value;}if(_1.indexOf("app=")!==-1){var _2=_1.split("&app=");this.app=_2[1];if(this.app.indexOf("&")!==-1){var _3=this.app.split("&");this.app=_3[0];}}dojo.connect(this.jids,"onchange",function(){ProformsAppMenu.load(this.value);});this.load(this.jids.value);var _4=dojo.byId("jform_request_app_chzn");if(_4){_4.style.display="none";this.appSelect.style.display="block";this.appSelect.setAttribute("style","background-clip: padding-box; "+"background-color: #EEE; "+"border: 1px solid #AAAAAA;  "+"border-radius: 5px;   "+"box-shadow: 0 0 3px #FFFFFF inset, 0 1px 1px rgba(0, 0, 0, 0.1); "+"color: #99999; "+"display: block; ");}},load:function(_5){dojo.xhrGet({url:"index.php?option=com_proforms&section=xhr&xhr=appmenu&jid="+_5,handleAs:"json",preventCache:true,load:dojo.hitch(this,function(_6){this.appSelect.innerHTML=_6.inner;if(!this.first){console.log("first");this.first=1;if(this.app){this.appSelect.value=this.app;}}})});}};dojo.addOnLoad(function(){ProformsAppMenu.init();});