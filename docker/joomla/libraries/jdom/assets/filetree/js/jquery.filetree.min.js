jQuery&&function(a){a.extend(a.fn,{fileTree:function(b,c){if(!b)var b={};void 0==b.root&&(b.root="/"),void 0==b.script&&(b.script="jqueryFileTree.php"),void 0==b.folderEvent&&(b.folderEvent="click"),void 0==b.expandSpeed&&(b.expandSpeed=500),void 0==b.collapseSpeed&&(b.collapseSpeed=500),void 0==b.expandEasing&&(b.expandEasing=null),void 0==b.collapseEasing&&(b.collapseEasing=null),void 0==b.multiFolder&&(b.multiFolder=!0),void 0==b.loadMessage&&(b.loadMessage="Loading..."),void 0==b.ajax&&(b.ajax=!1),a(this).each(function(){function d(c,d){a(c).addClass("wait"),a(".jqueryFileTree.start").remove(),b.ajax&&a.post(b.script,{dir:d},function(b){a(c).find(".start").html(""),a(c).removeClass("wait").append(b)}),b.root==d?a(c).find("UL:hidden").show():a(c).find("UL:hidden").slideDown({duration:b.expandSpeed,easing:b.expandEasing}),e(c)}function e(e){a(e).find("LI A").bind(b.folderEvent,function(){if(a(this).parent().hasClass("directory"))if(a(this).parent().hasClass("collapsed")){b.multiFolder||(a(this).parent().parent().find("UL").slideUp({duration:b.collapseSpeed,easing:b.collapseEasing}),a(this).parent().parent().find("LI.directory").removeClass("expanded").addClass("collapsed")),a(this).parent().find("UL").remove();var e="undefined"!=typeof a(this).attr("rel")?a(this).attr("rel").match(/.*\//):"";d(a(this).parent(),escape(e)),a(this).parent().removeClass("collapsed").addClass("expanded")}else a(this).parent().find("UL").slideUp({duration:b.collapseSpeed,easing:b.collapseEasing}),a(this).parent().removeClass("expanded").addClass("collapsed");else c(a(this).attr("rel"));return!1}),"click"!=b.folderEvent.toLowerCase&&a(e).find("LI A").bind("click",function(){return!1})}b.ajax&&a(this).html('<ul class="jqueryFileTree start"><li class="wait">'+b.loadMessage+"<li></ul>"),d(a(this),escape(b.root))})}})}(jQuery);