/*
 *  Project: jQuery RadioToBtn
 *  Description: convert simple and ugly radio inputs into nice bootstrap radio groups (twitter bootstrap 2.3.2 required)
 *  Author: Girolamo Tomaselli http://bygiro.com
 *  License: GNU General Public License
 */
;!function(t,e,i,n){"use strict";var s="radioToBtn",o={text:{}},a=function(e){var i=e.parent(),s=i.parent(),o=s.find("input#"+e.attr("for")),a=o.attr("name"),r=null;if(s.find('input[type="radio"][name="'+a+'"]').each(function(){return t(this).prop("checked")||t(this).attr("checked")?(r=t(this),!1):n}),i.find("span[for]").each(function(){t(this).removeClass("active");var e=t(this).attr("data-active")||"btn-success";t(this).removeClass(e)}),r){var l=r.attr("id"),c=s.find('label[for="'+l+'"]'),e=i.find('span[for="'+l+'"]'),p=e.attr("data-active")||"btn-success";r.trigger("click"),c.trigger("click"),e.addClass("active "+p)}},r=function(){this.options=t.extend({},o)};r.prototype={init:function(e){t.extend(this.options,e);var i=this.elements.first(),s=i.parent();this.destroy();var o=[],r=!1;if(this.elements.each(function(){var e=t(this).attr("id"),i=t(this).attr("rel"),s=null,a=t(this).parent().find('label[for="'+e+'"]');if(!e||0==a.length)return r=!0,!1;var l={"for":e,text:a.html()};if(n!==i){var s=jQuery.parseJSON(i);t.extend(l,s)}o.push(l)}),!r){for(var l="",c=0;c<o.length;c++){var p=o[c],d=p.active||"";""==d&&p.color&&(d="btn-"+p.color),l+='<span for="'+p["for"]+'" data-active="'+d+'" class="radioToBtn-btn btn '+(p["class"]||"btn-default")+'">'+p.text+"</span>",s.find("#"+p["for"]+', label[for="'+p["for"]+'"]').addClass("radioToBtn-hidden")}l='<span class="radioToBtn-btn-container btn-group">'+l+"</span>",l=t(l),this.elements.first().before(l),l.on("click","span[for]",function(){var e=t(this).parent().parent();e.find('label[for="'+t(this).attr("for")+'"]').trigger("click"),a(t(this))}),a(l.find("span[for]").first())}},destroy:function(){var e=this.elements.first(),i=e.parent();i.find(".radioToBtn-btn-container.btn-group .radioToBtn-btn").each(function(){var e=t(this).attr("for");i.find("#"+e+', label[for="'+e+'"]').removeClass("radioToBtn-hidden")}),i.find(".radioToBtn-btn-container.btn-group").remove()}},t.fn[s]=function(e){var i,o;if(this.length<=0)return this;var a=this.find('input[type="radio"]'),l={};return a.each(function(){var e=t(this).attr("name");n===l[e]&&(l[e]=t()),l[e]=l[e].add(t(this))}),t.each(l,function(){if(o=new r(this),o.elements=this,n===e||"object"==typeof e)"function"==typeof o.init&&o.init(e);else{if("string"==typeof e&&"function"==typeof o[e])return i=Array.prototype.slice.call(arguments,1),o[e].apply(o,i);t.error("Method "+e+" does not exist on jQuery."+s)}}),this}}(jQuery,window,document);